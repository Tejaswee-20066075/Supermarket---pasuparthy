

MODULE TITLE
Programming with Information systems 
MODULE CODE
B9IS123
MODULE LEADER
PAUL LAIRD
STUDENT NAME
TEJASWEE AVULAPATI
STUDENT REGISTRATION NUMBER
20066075


PASUPARTHY SUPERMARKET MANAGEMENT SYSTEM

Introduction:

The Supermarket Inventory Management System is a simple web application designed to help manage supermarket stock efficiently. The system operates with a Python framework Flask backend and an HTML/CSS/JavaScript frontend which allows users to manage products through viewing and adding and editing and deleting options. The system operates through a lightweight SQLite database which stores all product information to provide fast setup for small to medium sized retail operations. The project provides a basic inventory management tool through its simple navigation and essential CRUD functions which enables future development of authentication systems and analytics and cloud deployment options.

Github repository: https://github.com/Tejaswee-20066075/Supermarket---pasuparthy





Features:
List All Products: A dynamic HTML table that is capable of presenting every item.
Add Product: The new products get added through a form.
Edit Product: Change the quantity, price, category, etc. of the product.
Delete Product: Discard items that are not needed.
SQLite Database: A small but efficient and server-free way of storing data.
REST API: CRUD operations in the JSON format.

Technologies Used
Frontend: HTML, CSS, JavaScript
Backend: Python (Flask)
Database: SQLite
Others: Flask-CORS, Fetch API
Local Installation & Setup
Make sure you have installed the following in your system:
Python 3.x
pip
Verify Installation:
Python  - - version
pip - - version

API END POINTS

Methods
Endpoints
Description
GET
/products
Retrieve all products
GET
/products/
Retrieve a specific product
POST
/products
Add new product
PUT
/products/
Update product
DELETE
/products/
Delete product






Frontend File Structure
Index.html

<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="refresh" content="0;url=login.html">
</head>
<body></body>
</html>

Backend app.py
from flask import Flask, request, jsonify, send_file, send_from_directory      
from flask_sqlalchemy import SQLAlchemy
from flask_cors import CORS
import hashlib
import os 

app= Flask (__name__, static_folder='../frontend', static_url_path='')                                                       #creates flask app
CORS(app) #CORS means Cross origin request which joins frontend javascript to backend APIs
                                                                
 

app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///database.db'           #here we are creating db which is sqlite
app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False            
db = SQLAlchemy(app)

class User(db.Model):                                                   #so here we are creating user model in database we have created id,name,email,password also we are hashing passwords
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    email = db.Column(db.String(120), unique=True, nullable=False)
    password_hash = db.Column(db.String(64), nullable=False)

class Product(db.Model):                                              # we are adding stock items as product model in database
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    price = db.Column(db.Float, nullable=False)
    quantity = db.Column(db.Integer, nullable=False)

@app.route("/")                                                               # Route to serve login page as home
def home():
    frontend_path = os.path.join(os.path.dirname(os.path.dirname(__file__)), 'frontend')
    return send_file(os.path.join(frontend_path, 'login.html'))



# check the routes of API
@app.route("/api/health")
def health():
    return jsonify({"status": "ok"})    


#registering a user

@app.route("/api/register", methods=["POST","OPTIONS"])
def register():
    if request.method =="OPTIONS":
        return '',200
    try:
        data = request.get_json()
        if not data:
            return jsonify({"error": "No data provided"}), 400
        name = data.get("name")
        email = data.get("email")
        password = data.get("password")
        if not name or not email or not password:
            return jsonify({"error": "All fields are required"}), 400
        
        existing_user = User.query.filter_by(email=email).first()
        if existing_user:
            return jsonify({"error": "Email already registered"}), 400


#hashing password using python library hashlib

        password_hash = hashlib.sha256(password.encode()).hexdigest()    
        new_user = User(name=name, email=email, password_hash=password_hash)
        db.session.add(new_user)
        db.session.commit()
        return jsonify({"message": "User registered successfully"}), 201
    except Exception as e:
        db.session.rollback()
        return jsonify({"error": "Registration failed. Please try again."}), 500


@app.route("/api/login", methods=["POST","OPTIONS"])                                      # creating route for user login
def login():
    if request.method =="OPTIONS":
        return '',200
    try:
        data = request.get_json()
        if not data:
            return jsonify({"error": "No data provided"}), 400
        email = data.get("email","").strip().lower()
        password = data.get("password").strip()

        if not email or not password:
            return jsonify({"error" : "Email and password required"}), 400              #user login error message


        user = User.query.filter_by(email=email).first()                                   #user login success message
        if user and user.password_hash == hashlib.sha256(password.encode()).hexdigest():
            return jsonify({"message": "User Login successful", "user": user.name})
        else:
            return jsonify({"error": "Invalid credentials"}), 401                       #error if credentials are wrong
    except Exception as e:
        return jsonify({"error": "Login failed. Please try again."}), 500  

@app.route("/api/products", methods=["POST","OPTIONS"])                                       #crearing route for products items
def create_product():
    if request.method =="OPTIONS":
        return '',200                                                              
    try:
        data = request.get_json()
        if not data:
            return jsonify({"error": "No data provided"}), 400
        name = data.get("name")
        price = data.get("price")
        quantity = data.get("quantity")
        if not name or price is None or quantity is None:                                    #error message for product requirement fields
            return jsonify({"error": "Name, price, and quantity are required"}), 400
        try:
            price = float(price)
            quantity = int(quantity)
        except (ValueError, TypeError):
            return jsonify({"error": "Price must be a number and quantity must be an integer"}), 400
        if price < 0:
            return jsonify({"error": "Price cannot be negative"}), 400
        
        if quantity < 0:
            return jsonify({"error": "Quantity cannot be negative"}), 400

        new_product = Product(name=name, price=price, quantity=quantity)                     #adding product to db
        db.session.add(new_product)
        db.session.commit()

        return jsonify({"message": "Product added successfully"}), 201                      #return message for function product once product added succesfully
    except Exception as e:
        db.session.rollback()
        return jsonify({"error": "Failed to add product. Please try again."}), 500


@app.route("/api/products", methods=["GET","OPTIONS"])                                           #route for seeing all the products
def get_products():
    if request.method =="OPTIONS":
        return '',200                                                                   #function to get all products
    try:
        products = Product.query.all()                                                     # it represents sqlalchemy table for products
        result = []
        for p in products:                                                                #converting sqlalchemy objects to json
            result.append({
                "id": p.id,
                "name": p.name,
                "price": p.price,
                "quantity": p.quantity
            })
        return jsonify(result),200

    except Exception as e:
        return jsonify({"error": "Failed to retrieve products"}), 500


@app.route("/api/products/<int:id>", methods=["PUT","OPTIONS"])                                 #route for updating the products by id
def update_product(id):   
        if request.method =="OPTIONS":
            return '',200                                                            #function product update
        try:
            product = Product.query.get(id)
            if not product:
                return jsonify({"error": "Product not found"}), 404

            data = request.get_json()
            if not data:
                return jsonify({"error": "No data provided"}), 400                           #if product id doesnt found returns 404
            if "name" in data:
                name = data.get("name", "").strip()
                if name:
                    product.name = name
        
            if "price" in data:
                try:
                    price = float(data.get("price"))
                    if price < 0:
                        return jsonify({"error": "Price cannot be negative"}), 400
                    product.price = price
                except (ValueError, TypeError):
                    return jsonify({"error": "Price must be a valid number"}), 400
        
            if "quantity" in data:
                try:
                    quantity = int(data.get("quantity"))
                    if quantity < 0:
                        return jsonify({"error": "Quantity cannot be negative"}), 400
                    product.quantity = quantity
                except (ValueError, TypeError):
                    return jsonify({"error": "Quantity must be a valid integer"}), 400
            db.session.commit()                                                              #take input from html and save changes to database
            return jsonify({"message": "Product updated successfully"}),200                       #once the product is updated return successful message
        except Exception as e:
            db.session.rollback()
            return jsonify({"error": "Failed to update product. Please try again."}), 500

@app.route("/api/products/<int:id>", methods=["DELETE","OPTIONS"])                              #route to delete product by id
def delete_product(id):
    if request.method =="OPTIONS":
        return '',200
    try:
      product = Product.query.get(id)                                                   #function for delete product
      if not product:
          return jsonify({"error": "Product not found"}), 404                           #if product id doesnt found return error
      db.session.delete(product)                                                        #delete from database
      db.session.commit()
      return jsonify({"message": "Product deleted successfully"}),200                      #if it is deleted then return message success
    except Exception as e:
        db.session.rollback()
        return jsonify({"error": "Failed to delete product. Please try again."}), 500

@app.route("/<path:filename>")                                                               # Route to serve static files (HTML, CSS, JS) - must be after API routes
def serve_static(filename):
    if filename.startswith('api/'):                                                          # Don't serve API routes as static files
        return jsonify({"error": "Not found"}), 404
    
    frontend_path = os.path.join(os.path.dirname(os.path.dirname(__file__)), 'frontend')
    
    if filename.endswith(('.html', '.css', '.js')):                                            # Security: Only serve specific file types
        try:
            return send_from_directory(frontend_path, filename)
        except Exception:
            return jsonify({"error": "File not found"}), 404  
    return jsonify({"error": "File type not allowed"}), 403


if __name__ == "__main__":
    with app.app_context():
        db.create_all()  # Creates tables if not already created
    app.run(host="0.0.0.0", port=5000, debug=True)

Run the Project on Localhost
Install Python 3 and pip on your system.
Open the project folder in your terminal.
Install required packages using:
 pip install flask flask-cors
Run your Flask application with:
 python app.py
Open your browser and go to:
 http://127.0.0.1:5000
Github repository:
https://github.com/Tejaswee-20066075/Supermarket---pasuparthy 
References:
Sqlalchemy  : https://docs.sqlalchemy.org/en/14/core/tutorial.html
Cors: https://stackoverflow.com/questions/25594893/how-to-enable-cors-in-flask
      https://medium.com/@mterrano1/cors-in-a-flask-api-38051388f8cc
Password hashing : https://greeksforgreeks.org/python/how-to-hash-passwords-in-python/ 
SQLAlchemy to json format - https://www.geeksforgeeks.org/python/serialize-python-sqlalchemy-result-to-json/
Javascript in html pages : https://www.w3schools.com/howto/howto_css_login_form.asp
Javascript : https://gist.github.com/yukiakt/eedd8f9f754706347b63d2baa95ca73c
Javascript : https://medium.com/swlh/how-to-create-your-first-login-page-with-html-css-and-javascript-602dd71144f1 
Javascript fetch and catch : https://stackoverflow.com/questions/38235715/fetch-reject-promise-and-catch-the-error-if-status-is-not-ok
Python Api - https://www.youtube.com/watch?v=kng-mJJby8g 
Connect to api - https://www.youtube.com/watch?v=JVQNywo4AbU 
For error correcting, I took help from my friend.
I refered to the online resources and did my project according doing some changes in my code.
All the indentation error were corrected by myself and after that I still faced alot of error, so I took help of my help to corrct the errors.
I have learned all the code, how it works and etc.
API Routes in Python: https://www.geeksforgeeks.org/python/python-build-a-rest-api-using-flask/
TutorialsPoint - Flask - https://www.tutorialspoint.com/flask/index.htm
GeeksforGeeks - Flask - https://www.geeksforgeeks.org/flask-python/
Github Reference repository: https://github.com/16967143/basic-CRUD-flask-app/blob/master/config.py
JavaScript Fetch API - https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API 


Further Steps:

Implement authentication 
Export inventory as CSV
Create a dashboard with graphs
Containerize the project
Migrate from SQLite to PostgreSQL.
Incorporate supplier & category management.

Conclusion:

The Pasuparthy Supermarket Management System is an easy and professional approach for handling daily stock operations. The system operates with Flask and SQLite to deliver a basic user interface which allows users to handle products through viewing and editing and ordering capabilities without any complicated setup. Its small footprint makes it suitable for small to medium sized retail shops, but it is still adaptable to future expansions with extra features. Furthermore, this project can be very helpful to developers in getting a very good grasp of real world CRUD operations, API handling, and full stack in a very neat and orderly manner.



